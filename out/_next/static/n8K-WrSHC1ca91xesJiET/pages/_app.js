(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{0:function(t,e,n){n("74v/"),t.exports=n("nOHt")},"5Buo":function(t,e,n){},"5kK8":function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a}));var r="print first",o="new order",i="group",a="single"},"5xjc":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n("VX74"),o=n("vDU6"),i=new r.ApolloClient({uri:"http://175.41.166.224/graphql",cache:new r.InMemoryCache}),a={headers:{bearer:Object(o.a)("token")}}},"74v/":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("cha2")}])},BsWD:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("a3WO");function o(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},EvPg:function(t,e,n){},Mj6V:function(t,e,n){var r,o;void 0===(o="function"===typeof(r=function(){var t={version:"0.2.0"},e=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function n(t,e,n){return t<e?e:t>n?n:t}function r(t){return 100*(-1+t)}t.configure=function(t){var n,r;for(n in t)void 0!==(r=t[n])&&t.hasOwnProperty(n)&&(e[n]=r);return this},t.status=null,t.set=function(a){var u=t.isStarted();a=n(a,e.minimum,1),t.status=1===a?null:a;var c=t.render(!u),s=c.querySelector(e.barSelector),f=e.speed,l=e.easing;return c.offsetWidth,o((function(n){""===e.positionUsing&&(e.positionUsing=t.getPositioningCSS()),i(s,function(t,n,o){var i;return(i="translate3d"===e.positionUsing?{transform:"translate3d("+r(t)+"%,0,0)"}:"translate"===e.positionUsing?{transform:"translate("+r(t)+"%,0)"}:{"margin-left":r(t)+"%"}).transition="all "+n+"ms "+o,i}(a,f,l)),1===a?(i(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){i(c,{transition:"all "+f+"ms linear",opacity:0}),setTimeout((function(){t.remove(),n()}),f)}),f)):setTimeout(n,f)})),this},t.isStarted=function(){return"number"===typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),e.trickleSpeed)};return e.trickle&&n(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var r=t.status;return r?("number"!==typeof e&&(e=(1-r)*n(Math.random()*r,.1,.95)),r=n(r+e,0,.994),t.set(r)):t.start()},t.trickle=function(){return t.inc(Math.random()*e.trickleRate)},function(){var e=0,n=0;t.promise=function(r){return r&&"resolved"!==r.state()?(0===n&&t.start(),e++,n++,r.always((function(){0===--n?(e=0,t.done()):t.set((e-n)/e)})),this):this}}(),t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var o=document.createElement("div");o.id="nprogress",o.innerHTML=e.template;var a,c=o.querySelector(e.barSelector),s=n?"-100":r(t.status||0),l=document.querySelector(e.parent);return i(c,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),e.showSpinner||(a=o.querySelector(e.spinnerSelector))&&f(a),l!=document.body&&u(l,"nprogress-custom-parent"),l.appendChild(o),o},t.remove=function(){c(document.documentElement,"nprogress-busy"),c(document.querySelector(e.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&f(t)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var o=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),i=function(){var t=["Webkit","O","Moz","ms"],e={};function n(n){return n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()})),e[n]||(e[n]=function(e){var n=document.body.style;if(e in n)return e;for(var r,o=t.length,i=e.charAt(0).toUpperCase()+e.slice(1);o--;)if((r=t[o]+i)in n)return r;return e}(n))}function r(t,e,r){e=n(e),t.style[e]=r}return function(t,e){var n,o,i=arguments;if(2==i.length)for(n in e)void 0!==(o=e[n])&&e.hasOwnProperty(n)&&r(t,n,o);else r(t,i[1],i[2])}}();function a(t,e){return("string"==typeof t?t:s(t)).indexOf(" "+e+" ")>=0}function u(t,e){var n=s(t),r=n+e;a(n,e)||(t.className=r.substring(1))}function c(t,e){var n,r=s(t);a(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function s(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function f(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return t})?r.call(e,n,e,t):r)||(t.exports=o)},a3WO:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},cha2:function(t,e,n){"use strict";n.r(e);var r=n("q1tI"),o=n.n(r),i=n("Mj6V"),a=n.n(i),u=n("nOHt"),c=n.n(u),s=n("VX74"),f=n("a3WO");var l=n("BsWD");function p(t){return function(t){if(Array.isArray(t))return Object(f.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(l.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=n("rePB"),m=n("5kK8"),v=n("q8k2"),b=o.a.createElement;function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=function(t){var e=Object(r.useState)([]),n=e[0],o=e[1],i=Object(r.useState)(0),a=i[0],u=i[1],c=Object(r.useState)(""),s=c[0],f=c[1],l=Object(r.useState)({}),d=l[0],O=l[1],g=Object(r.useState)({}),h=g[0],j=g[1],S=Object(r.useState)([]),w=S[0],P=S[1];Object(r.useEffect)((function(){var t=0;n.forEach((function(e){t+=e.total})),u(t),j({productData:n.map((function(t){var e;return{id:t.item.id,qty:t.quantity,coupon:(null===(e=t.coupon)||void 0===e?void 0:e.code)||""}})),createTicket:s===m.d,email:d.email||"",customer:d.name||"",visitors:(null===d||void 0===d?void 0:d.nameGroup)||"",address:d.address||"",phone:d.phone||"",excel:!1})}),[n]);return b(v.a.Provider,{value:{tickets:n,add:function(t,e,r){var i=t.price*e;if(r&&(i=i*(100-r.discountInPercent)/100),n.length){var a=n.findIndex((function(e){return e.item.id===t.id}));if(-1!==a){var u=n[a];n[a]=y(y(y({},n),u),{},{quantity:e,total:i,coupon:r})}else{var c={item:t,quantity:e,coupon:r,total:i};n.push(c)}}else{var s={item:t,quantity:e,coupon:r,total:i};n.push(s)}o(p(n))},finalPrice:a,clear:function(){o([])},remove:function(t){o(n.filter((function(e){return e.item.id!==t})))},type:s,printFirst:function(){f(m.d)},newOrder:function(t){O(t),f(m.a)},details:d,done:function(){o([]),f(""),O({}),P([])},ticketInput:h,orderHandle:function(t){n.forEach((function(e){for(var n=0;n<e.quantity;n+=1){var r={name:e.item.name,price:e.item.price,orderOrginal:t[w.length]};w.push(r)}})),P(p(w))},ticketsOrder:w}},t.children)},h=n("j5Ji"),j=n("vDU6"),S=o.a.createElement;function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e){switch(e.type){case"SIGNIN":return P({},t);case"SIGNIN_SUCCESS":return P(P({},t),{},{isAuthenticated:!0});case"SIGN_OUT":return P(P({},t),{},{isAuthenticated:!1});default:return t}}var E=function(t){var e=Object(r.useReducer)(k,!!Object(j.a)("token")),n=e[0],o=e[1];return S(h.a.Provider,{value:{authState:n,authDispatch:o}},t.children)},C=n("5xjc"),I=function(t){var e=t.children,n=Object(r.useContext)(h.a).authState,o=Object(u.useRouter)();return Object(r.useEffect)((function(){n||o.push("/login")}),[n]),e},q=(n("msUf"),n("EvPg"),n("pdi6"),n("5Buo"),o.a.createElement);c.a.events.on("routeChangeStart",(function(){return a.a.start()})),c.a.events.on("routeChangeComplete",(function(){return a.a.done()})),c.a.events.on("routeChangeError",(function(){return a.a.done()}));e.default=function(t){var e=t.Component,n=t.pageProps;return q(s.ApolloProvider,{client:C.a},q(E,null,q(g,null,q(I,null,q(e,n)))))}},j5Ji:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("q1tI"),o=Object(r.createContext)({})},msUf:function(t,e,n){},pdi6:function(t,e,n){},q8k2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("q1tI"),o=Object(r.createContext)({})},rePB:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))}},[[0,0,2,6,1,3]]]);